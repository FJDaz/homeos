# PRD CENTRAL : AETHERFLOW (CLEAN & PRISTINE)

**Version** : 3.0 "Deep Flow"  
**Date** : 16 f√©vrier 2026  
**Statut** : R√âF√âRENTIEL IMMUABLE (POST-NETTOYAGE)

---

## üöÄ 1. Vision : Le Moteur de Construction de Code Robuste

AetherFlow n'est plus seulement un orchestrateur pour HomeOS, c'est une **proposition commerciale autonome** : un bouquet d'APIs optimis√©es pour garantir une construction de code solide, pr√©cise et abordable.

### Le Pilier BKD (Backend Engine)
- **Objectif** : Autonomiser la phase de construction logique.
- **Moteur** : Orchestrateur multi-LLM (DeepSeek, Gemini, Groq) avec gestion AST (Surgical Edit).
- **Valeur** : Un code qui compile, qui respecte l'architecture existante et qui co√ªte le juste prix.

### Le Pilier FRD (Frontend Pristine)
- **Objectif** : Rendu pur et d√©coupl√©.
- **Philosophie** : Un "Sanctuaire" de rendu 100% conforme √† la **Constitution AetherFlow**.
- **Interop√©rabilit√©** : Une API REST JSON comme unique pont ontologique.

---

## üß¨ 2. Architecture & Composants

### AetherFlow Engine (BKD)
- **Surgical Edit v2** : Modification pr√©cise via AST pour √©viter la corruption de fichiers.
- **Smart Routing** : Allocation dynamique (DeepSeek pour le complexe, Groq pour la vitesse, Gemini pour le volume).
- **RAG & Context** : Enrichissement automatique par `PageIndexRetriever`.

### Sullivan Logic (Cognition)
- **Genome N0-N3** : Cartographie s√©mantique de toutes les interfaces.
- **UI Inference** : Capacit√© √† d√©river le frontend depuis le sens backend.

---

## üõ†Ô∏è 3. √âtat Actuel (Clean Status)

### Infrastructure
- ‚úÖ **Nettoyage 2026-02-16** : Suppression des bruits de session, archivage des status reports obsol√®tes.
- ‚úÖ **Docs Core** : Centralisation dans `docs/00-core/`.
- ‚úÖ **Environnement** : Workspaces identifi√©s et isol√©s.

### Fonctionnalit√©s
- ‚úÖ **Surgical Mode** : Op√©rationnel et debugg√©.
- ‚úÖ **Multi-Provider** : DeepSeek-V3 et Gemini 1.5 Pro int√©gr√©s.
- ‚úÖ **Constitutional Enforcer** : Barri√®re s√©mantique active.

---

## üó∫Ô∏è 4. Objectifs Strat√©giques (Next-Gen)

### Robustesse & Auto-Correction (LangGraph)
- **Transition** : Migration vers une orchestration par graphes pour g√©rer les boucles de r√©troaction (Self-Healing).
- **Objectif** : Z√©ro erreur de syntaxe en sortie d'API.

### Solidit√© de Construction : DeepSeek-R1 Pre-Reasoning
L'hybridation "Raisonnement (R1) / √âcriture (V3/Codestral)" est le moteur de la proposition de valeur AetherFlow.
- **M√©canisme** : Impl√©mentation de `_reasoning_pre_pass()` dans l'orchestrateur.
- **Flux** : Plan + AST ‚Üí **DeepSeek-R1** (`deepseek-reasoner`) ‚Üí Bloc `[REASONING]` ‚Üí Mod√®le d'√©criture.
- **Activation** : D√©clench√©e par `pre_reasoning: true` dans le contexte du plan JSON.
- **Valeur** : Z√©ro code "fant√¥me", compr√©hension parfaite des d√©pendances avant toute modification.

---

## üìú 5. Constitution & Gouvernance
Toute modification doit respecter les **3 R√®gles d'Or** (Fronti√®re Herm√©tique, Aucun Empi√®tement, Source de V√©rit√© Unique).

*R√©f√©rentiel maintenu par Antigravity sous supervision du CTO Fran√ßois-Jean Dazin.*
