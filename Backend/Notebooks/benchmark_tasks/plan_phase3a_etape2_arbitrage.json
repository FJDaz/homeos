{
  "task_id": "phase3a-etape2-arbitrage",
  "description": "Phase 3 A Étape 2 : Arbitrage Sullivan HTMX interactif. Générer des formulaires HTMX pour valider chaque élément de l'IR avec verdicts Garder / Réserve / Obsolète.",
  "steps": [
    {
      "id": "step_1",
      "description": "Créer le fichier output/studio/arbitrage_phase3a_etape2.md CONTENANT DU HTML HTMX (pas de markdown). Ce fichier sera injecté dans la page Studio via HTMX et doit contenir des formulaires interactifs (pas de tableaux statiques). Structure obligatoire: (1) Titre '<h1>Arbitrage Sullivan</h1>'. (2) Un formulaire par section IR avec: hx-post='/studio/validate', hx-target='#distillation-entries', hx-swap='beforeend', class='border rounded p-3 bg-gray-50 mb-3'. (3) Formulaires requis: 1.1 Métadonnées (3 items: Intent, Version, Généré le), 1.2 Topologie (4 items: Brainstorm, Back, Front, Deploy), 1.3 Endpoints (16 items: 14 du genome + 2 manquants), 2 Modes (3 items: FAST, BUILD, DOUBLE-CHECK), 3 Workflows (4 items: PROTO, PROD, VerifyFix, RunAndFix), 4 Briques IR (8 items: Orchestrator, RAG, Cache, DevMode, DesignerMode, ScreenPlanner, CorpsGenerator, Chatbot), 5 CLI (13 items: -q, -f, -vfx, genome, read-genome, plan-screens, build, designer, dev, --costs, --stats, --status, --no-confirm, --streaming). (4) Chaque formulaire: h3 '§X.X Nom', paragraphe instruction, div checkboxes name='items' value='{nom}' checked, hidden inputs section_id, section_title, verdict='Garder', bouton submit avec hx-indicator. (5) Classes Tailwind: labels 'flex items-center gap-2', checkboxes 'space-y-1 text-sm', bouton 'mt-2 px-3 py-1 bg-[#A6CE39] hover:bg-[#8fb82e] text-gray-900 rounded text-sm font-medium'. (6) PAS DE MARKDOWN: pas de # ## | ou -. UNIQUEMENT HTML. (7) Sortie: HTML brut valide, intégrable dans une div.",
      "type": "code_generation",
      "complexity": 0.6,
      "estimated_tokens": 3500,
      "dependencies": [],
      "validation_criteria": [
        "HTML HTMX valide (pas markdown)",
        "Formulaires hx-post par section",
        "Checkboxes name='items' pour chaque élément",
        "Hidden inputs section_id, section_title, verdict",
        "Boutons submit avec hx-indicator unique",
        "16 endpoints présents",
        "Classes Tailwind appliquées",
        "Pas de syntaxe markdown"
      ],
      "context": {
        "language": "html",
        "framework": "htmx",
        "files": ["output/studio/arbitrage_phase3a_etape2.md"],
        "input_files": ["output/studio/ir_inventaire.md", "output/studio/homeos_genome.json", "docs/04-homeos/PRD_HOMEOS.md"]
      }
    }
  ],
  "metadata": {
    "created_at": "2026-02-01T20:30:00Z",
    "claude_version": "claude-code",
    "project_context": "Phase 3 A Étape 2 - Arbitrage Sullivan HTMX interactif"
  }
}
